#nagios 微信通知脚本

使用前需要去微信公众平台申请一个企业号。

##使用

###配置
config.py
内容类似如下：
CorpID='your corpid'
Secret='your secret'

DEBUG=0

ToUser='xxx'
ToParty="2"
AgentId=1

###运行
python NotifyByWeixin.py 通知内容

其中通知内容格式分别为：
主机通知："host-@@-111-@@-222-@@-333-@@-444-@@-555"
111：通知类型
222：主机名称
333：主机状态
444：主机地址
555：主机详细信息
服务通知："service-@@-111-@@-222-@@-333-@@-444-@@-555-@@-666"
111：通知类型
222：服务描述
333：主机名称
444：主机地址
555：服务状态
666：服务详细信息

###配置
nagios配置略